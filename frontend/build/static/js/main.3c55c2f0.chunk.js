(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{26:function(e,n,t){e.exports=t(43)},31:function(e,n,t){},32:function(e,n,t){},34:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(21),c=t.n(o),i=(t(31),t(32),t(11)),u=t.n(i),l=t(22),s=t(1),f=(t(34),t(12));function b(){var e=Object(r.useCallback)((function(e){fetch("/register",{method:"POST",body:""})}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"Welcome"),a.a.createElement("form",{onSubmit:e},a.a.createElement("label",null,"username"),a.a.createElement("input",{name:"username"})))}var d=t(6),m=t(3),h=t.n(m),g=t(10),p=t(4),O=t(5),j=t(13),v=t.n(j);function y(){var e=Object(p.a)(["\n  flex: 0 0 10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n"]);return y=function(){return e},e}function E(){var e=Object(p.a)(["\n  height: 10%;\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background-color: lightgreen;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 2px;\n"]);return E=function(){return e},e}function w(){var e=Object(p.a)(["\n  width: 10%;\n  position: absolute;\n  right: 100%;\n  margin-right: 2px;\n  top: 0;\n  bottom: 0;\n  background-color: lightblue;\n  display: flex;\n  flex-direction: column;\n"]);return w=function(){return e},e}function k(){var e=Object(p.a)(["\n  flex: 0 0 10%;\n  border-right: 1px solid gray;\n  border-bottom: 1px solid gray;\n  overflow: hidden;\n  background-color: ",";\n\n  &:nth-child(10n) {\n    border-right: 0;\n  }\n\n  &:nth-child(n + 91) {\n    border-bottom: 0;\n  }\n"]);return k=function(){return e},e}function x(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n"]);return x=function(){return e},e}function S(){var e=Object(p.a)(["\n  position: relative;\n  padding-bottom: 100%;\n  border: 2px solid black;\n  margin-top: 10%;\n"]);return S=function(){return e},e}var N,C=O.a.section(S()),M=O.a.div(x()),R=O.a.div(k(),(function(e){return e.highlight?"whitesmoke":null})),T=O.a.div(w()),I=O.a.div(E()),A=O.a.div(y()),J=Object(g.a)(new Array(100)),W=["a","b","c","d","e","f","g","h","i","j"],L=[1,2,3,4,5,6,7,8,9,10];function P(e){var n=Object(r.useState)(-1),t=Object(s.a)(n,2),o=t[0],c=t[1],i=function(n){return function(){return e.sendMessage(JSON.stringify({type:"player_click",message:"cell: ".concat(n)}))}},u=Math.floor(o/10),l=o%10,f=o>-1?v()(10*u,10*u+9):[o],b=o>-1?v()(l,l+90,10):[o];return a.a.createElement(C,null,a.a.createElement(M,null,J.map((function(e,n){var t=[].concat(Object(g.a)(f),Object(g.a)(b)).includes(n);return a.a.createElement(R,{highlight:t,key:n,onMouseEnter:function(){return c(n)},onMouseLeave:function(){return c(-1)},onClick:i(n)})}))),a.a.createElement(T,null,W.map((function(e){return a.a.createElement(A,{key:e},e)}))),a.a.createElement(I,null,L.map((function(e){return a.a.createElement(A,{key:e},e)}))))}var B=(N={},Object(d.a)(N,m.ReadyState.CONNECTING,"Connecting"),Object(d.a)(N,m.ReadyState.OPEN,"Open"),Object(d.a)(N,m.ReadyState.CLOSING,"Closing"),Object(d.a)(N,m.ReadyState.CLOSED,"Closed"),Object(d.a)(N,m.ReadyState.UNINSTANTIATED,"Uninstantiated"),N);function D(e){var n=Object(r.useState)("wss://echo.websocket.org"),t=Object(s.a)(n,2),o=t[0],c=t[1],i=h()(o),u=i.sendMessage,l=i.lastMessage,f=i.readyState,b=(Object(r.useCallback)((function(){return c("/ws/".concat(1))}),[]),Object(r.useRef)([]));return b.current=Object(r.useMemo)((function(){return b.current.concat(l)}),[l]),a.a.createElement("div",{className:"App"},a.a.createElement("h2",null,"Websocket: ",B[f]),a.a.createElement(P,{sendMessage:u}))}var G=function(){var e=Object(f.a)("name",""),n=Object(s.a)(e,2),t=n[0],o=(n[1],Object(f.a)("token","")),c=Object(s.a)(o,2),i=c[0],d=(c[1],Object(r.useState)(!0)),m=Object(s.a)(d,2),h=m[0];return m[1],Object(r.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/register",{method:"POST",body:JSON.stringify({name:t,token:i})}).then((function(e){return e.json()}));case 2:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,i]),t&&i||!h?a.a.createElement(D,{user:t,token:i}):a.a.createElement(b,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.3c55c2f0.chunk.js.map